{% extends "base.html" %}
{% block title %}Edit Product{% endblock %}
{% block content %}
<section class="py-5 admin-page">
    <div class="container" style="max-width: 760px;">
        <div class="card p-4 admin-card admin-form-card">
            <h1 class="h3 mb-2">Edit Product</h1>
            <p class="admin-subtitle">Update product details and replace image when needed.</p>
            <form method="post" enctype="multipart/form-data">
                <div class="mb-3">
                    <label class="form-label" for="name">Name</label>
                    <input class="form-control" type="text" id="name" name="name" value="{{ product.name }}" required>
                </div>
                <div class="mb-3">
                    <label class="form-label" for="description">Description</label>
                    <textarea class="form-control" id="description" name="description" rows="4">{{ product.description or '' }}</textarea>
                </div>
                <div class="mb-3">
                    <label class="form-label" for="price">Price (M)</label>
                    <input class="form-control" type="number" step="0.01" id="price" name="price" value="{{ product.price if product.price is not none else '' }}">
                </div>
                {% if product.image %}
                <div class="mb-3">
                    <img src="{{ url_for('static', filename='uploads/' ~ product.image) }}" alt="{{ product.name }}" class="preview-img">
                </div>
                {% endif %}
                <div class="mb-4">
                    <label class="form-label" for="image">Replace Image</label>
                    <input class="form-control" type="file" id="image" name="image" accept=".png,.jpg,.jpeg,.gif,.webp">
                </div>
                <div class="d-flex gap-2">
                    <button class="btn btn-success" type="submit">Update Product</button>
                    <a class="btn btn-outline-secondary" href="{{ url_for('admin_dashboard') }}">Cancel</a>
                </div>
            </form>
        </div>
    </div>
</section>
{% endblock %}
